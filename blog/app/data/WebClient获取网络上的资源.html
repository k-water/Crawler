<p>WebClient提供向了 URI 标识的资源发送数据和从 URI 标识的资源接收数据的公共方法.</p>
<h3 id="下载网页内容"><a href="#下载网页内容" class="headerlink" title="下载网页内容"></a>下载网页内容</h3><p>1.创建WebClient对象：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$web</span> = <span class="built_in">New-Object</span> System.Net.WebClient</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>2.设置文本的编码：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$web</span>.Encoding = [System.Text.Encoding]::UTF8</div></pre></td></tr></table></figure>
<p>3.下载网页代码</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$str</span> = <span class="variable">$web</span>.DownloadString(<span class="string">"http://localhost"</span>)</div><div class="line"><span class="variable">$str</span></div></pre></td></tr></table></figure>
<h3 id="获取文件资源"><a href="#获取文件资源" class="headerlink" title="获取文件资源"></a>获取文件资源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$url = &quot;http://path.to/file&quot;</div><div class="line">$file = &quot;\\localpath\to\file&quot;</div><div class="line">$web.DownloadFile($url,$file)</div></pre></td></tr></table></figure>
<p>WebClient能够实现一个HTTP客户端，进而拓展的应用场景非常丰富，如 web自动化，网络爬虫，异步下载器等，更多关于WebClient的说明请参考：<a href="https://msdn.microsoft.com/zh-cn/library/system.net.webclient(VS.80" target="_blank" rel="external">https://msdn.microsoft.com/zh-cn/library/system.net.webclient(VS.80).aspx</a>.aspx)</p>
<p>相似知识点：<code>HttpClient</code></p><p>WebClient提供向了 URI 标识的资源发送数据和从 URI 标识的资源接收数据的公共方法.</p>
<h3 id="下载网页内容"><a href="#下载网页内容" class="headerlink" title="下载网页内容"></a>下载网页内容</h3><p>1.创建WebClient对象：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$web</span> = <span class="built_in">New-Object</span> System.Net.WebClient</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>2.设置文本的编码：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$web</span>.Encoding = [System.Text.Encoding]::UTF8</div></pre></td></tr></table></figure>
<p>3.下载网页代码</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$str</span> = <span class="variable">$web</span>.DownloadString(<span class="string">"http://localhost"</span>)</div><div class="line"><span class="variable">$str</span></div></pre></td></tr></table></figure>
<h3 id="获取文件资源"><a href="#获取文件资源" class="headerlink" title="获取文件资源"></a>获取文件资源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$url = &quot;http://path.to/file&quot;</div><div class="line">$file = &quot;\\localpath\to\file&quot;</div><div class="line">$web.DownloadFile($url,$file)</div></pre></td></tr></table></figure>
<p>WebClient能够实现一个HTTP客户端，进而拓展的应用场景非常丰富，如 web自动化，网络爬虫，异步下载器等，更多关于WebClient的说明请参考：<a href="https://msdn.microsoft.com/zh-cn/library/system.net.webclient(VS.80" target="_blank" rel="external">https://msdn.microsoft.com/zh-cn/library/system.net.webclient(VS.80).aspx</a>.aspx)</p>
<p>相似知识点：<code>HttpClient</code></p>